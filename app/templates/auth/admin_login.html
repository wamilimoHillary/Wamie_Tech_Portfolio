{% extends "main/base.html" %} 

{% block title %}Admin Login - WamieCraftsPro{% endblock %}

{% block content %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/colors.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/flash_errors.css') }}">
{% endblock %}

<main class="student_main">  <!-- Reuse/change background class as needed -->
    <div class="form-container">

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
        {% endwith %}

        <h2>Wamie_Tech_Admin</h2>

        <form action="{{ url_for('auth.admin_login') }}" method="post">
            <div class="input-group">
                <input type="text" id="email_phone" name="email" placeholder=" " required>
                <label for="email_phone">* &nbsp;Email/phone</label>
            </div>
            <div class="input-group">
                <input type="password" id="password" name="password" placeholder=" " required>
                <label for="password">*&nbsp;Password</label>
            </div>

            <div class="remember-forget-container">
                <a href="{{ url_for('auth.admin_forgot_password') }}" class="forgot-password">
                    <i class="fa fa-key"></i> Forgot password?
                </a>
            </div>
            <hr>
            <button type="submit" class="form-button">
                Continue <i class="fas fa-sign-in-alt"></i>
            </button>
        </form>
    </div>
</main>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const link = document.querySelector('.forgot-password'); // target by class

    if (link) {
        function startShake() {
            link.classList.add('shake');
            setTimeout(() => link.classList.remove('shake'), 500);
        }

        // Repeat every 3 seconds
        setInterval(startShake, 3000);
    }
});
</script>

{% endblock %}
