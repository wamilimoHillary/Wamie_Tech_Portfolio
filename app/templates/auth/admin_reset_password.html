{% extends "main/base.html" %}

{% block title %}Admin Reset Password - WamieCrafts{% endblock %}

{% block content %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/colors.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/flash_errors.css') }}">
{% endblock %}


<main class="student_main"> <!-- Consistent wrapper for all forms -->
    <div class="form-container"> <!-- Unified styled container -->

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
        {% endwith %}

                     <h2>Set New Admin Password</h2>

        <!-- Admin Reset Password Form -->
        <form method="POST" action="{{ url_for('auth.admin_reset_password', token=token) }}">
            <div class="input-group">
                <input type="password" name="password" id="password" placeholder=" " required>
                <label for="password"><i class="fa fa-lock"></i> New Password</label>
            </div>

            <div class="input-group">
                <input type="password" name="confirm_password" id="confirm_password" placeholder=" " required>
                <label for="confirm_password"><i class="fa fa-lock"></i> Confirm Password</label>
            </div>

            <hr>

            <button type="submit" class="form-button">
                Reset Password <i class="fa fa-paper-plane"></i>
            </button>
        </form>

        <p class="form-footer">
            Back to 
            <a href="{{ url_for('auth.admin_login') }}">
                <i class="fa fa-arrow-left"></i> Admin Login
            </a>
        </p>
    </div>
</main>
{% endblock %}
